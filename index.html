<html>
<head>
    <script src="qaqc.js"></script>
    <script src="https://episphere.github.io/epibox/epibox.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap.native@2.0.27/dist/bootstrap-native-v4.min.js"></script>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="qaqc.css" rel="stylesheet">
</head>
<body onload="setTimeout(_=>qaqc.ui('qaqcDiv'),300)"> <!-- the timeout is completely not needed, it is used here to match the expectation that a tool is being loaded -->
    <div class="container">
        <h2>
            QAQC <i class="fa fa-power-off" style="color:green;font-size:x-large;cursor:pointer" onclick="this.style.color='red';location.hash='';location.search='';location.reload()" data-toggle="tooltip" data-placement="left" title="restart"></i>  
            <a href="https://github.com/episphere/qaqc" target="_blank" data-toggle="tooltip" data-placement="right" title="source code"><i class="fa fa-github-alt"></i></a>
            <a href="#url=iris.csv&script=1" target="_blank" data-toggle="tooltip" data-placement="right" title="demo"><i class="fa fa-rocket" style="color:orange"></i></a>
            <a href="https://www.youtube.com/watch?v=HXA15uuDUuI" target="_blank" data-toggle="tooltip" data-placement="right" title="introduction video"><i class="fa fa-youtube" style="color:red"></i></a>
            <a href="https://github.com/episphere/qaqc/issues" target="_blank" data-toggle="tooltip" data-placement="right" title="submit issue"><i class="fa fa-exclamation" style="color:maroon"></i></a>
        </h2>
        <p class="info">Quality Control / Quality Analyis</p>
        <h3>Script list</h3> 
        <ol id="scriptList">
        <li><input type="radio" name="run" class="runScript" checked> none</li>
        <li><input type="radio" name="run" class="runScript"> jonas.js - Jonas' QAQC experiments</li>
        <li><input type="radio" name="run" class="runScript"> lorena.js - the real thing by Lorena</li>
        <script>
            document.querySelectorAll('.runScript').forEach(el=>{
                el.value=el.parentElement.textContent.match(/^\s*\S+\s*/g)[0].replace(/\s/g,'')
                el.parentElement.style.cursor="pointer"
                el.parentElement.onclick=ev=>{
                    el.checked=true
                    if(el.value!='none'){
                        let s=document.createElement('script')
                        s.src=el.parentElement.parentElement.scriptSrc=el.value
                        //s.onload=qaqc.dataAnalysis
                        document.head.appendChild(s)
                        if(document.getElementById('qaqcReport')){
                            document.getElementById('qaqcReport').innerHTML='<p style="color:red">... if this takes too long please <a href="https://github.com/episphere/qaqc/issues" target="_blank">create an issue</a>.</p>'
                        }
                        setTimeout(qaqc.dataAnalysis,1000)
                    }else{

                    }
                }
            })
        </script>
        <li>...</li>
        </ol>
        <hr>
        <div id="qaqcDiv"><span style="color:red">Loading ... <br>if this takes too long please <a href="https://github.com/episphere/qaqc/issues" target="_blank">create an issue</a>.</span></div>
        <hr>
        <div id="dataAnalysisDiv"></div>
        <h3>Privacy</h3>
        <p class="info"> All computation takes place in this browser session. No data is transmited to a server, because there is no server supporting this application. The main purpose of this tool is indeed to illustrate how serverless statistical proceedures, particulalry data wrangling, can migrate to where the data is without exposing the source data. </p>
    </div>
</body>
</html>    